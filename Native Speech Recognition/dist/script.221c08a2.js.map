{"version":3,"sources":["script.ts"],"names":[],"mappings":"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","file":"script.221c08a2.js","sourceRoot":"..","sourcesContent":["class SpeechRecognition {\r\n  constructor() {\r\n    this.words = document.querySelector('.words');\r\n    this.languages = document.querySelector('.languages');\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    const recognition = new (window.SpeechRecognition ||\r\n      window.webkitSpeechRecognition ||\r\n      window.mozSpeechRecognition ||\r\n      window.msSpeechRecognition)();\r\n\r\n    recognition.interimResults = true;\r\n\r\n    this.render();\r\n    this.eventHandler(recognition);\r\n    this.getLanguage(recognition);\r\n    recognition.start();\r\n  }\r\n\r\n  getLanguage(recognition) {\r\n    let languages = navigator.languages;\r\n    languages = languages.filter(lang => lang.includes('-'));\r\n\r\n    const options = languages.map(\r\n      (element, index) =>\r\n        this.languages.options[this.languages.options.length] = new Option(\r\n          element,\r\n          element\r\n        )\r\n    );\r\n  }\r\n\r\n  eventHandler(recognition) {\r\n    this.languages.addEventListener('change', e => {\r\n      recognition.lang = e.target.value;\r\n    });\r\n\r\n    recognition.addEventListener('result', e => {\r\n      const transcript = Array.from(e.results)\r\n        .map(result => result[0])\r\n        .map(result => result.transcript)\r\n        .join('');\r\n\r\n      this.addText(transcript, e.results[0].isFinal);\r\n    });\r\n\r\n    recognition.addEventListener('end', recognition.start);\r\n\r\n    recognition.addEventListener('error', e => {\r\n      console.log(e);\r\n    });\r\n  }\r\n\r\n  addText(text, isFinal) {\r\n    const p = this.words.lastElementChild;\r\n    const poopScript = text.replace(/poop|poo|shit|dump/gi, 'ðŸ’©');\r\n    p.textContent = poopScript;\r\n\r\n    if (isFinal) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const p = document.createElement('p');\r\n    this.words.appendChild(p);\r\n  }\r\n}\r\n\r\n(() => {\r\n  new SpeechRecognition();\r\n})();\r\n"]}